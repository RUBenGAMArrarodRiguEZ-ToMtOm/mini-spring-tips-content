<?xml version="1.0" encoding="UTF-8" ?>
<tip>
    <title>   
      Spring-managd JPA AttributeConverter implementations
    </title>
    <uid>test-2545432</uid>
    <tweet>
Spring ties your Spring-managed JPA AttributeConverters beans  with the Convert annotation. 
      
WDYT @starbuxman ?
    </tweet>
    <code>
<![CDATA[


@Component
@RequiredArgsConstructor
class EncryptedValueConverter implements AttributeConverter<String, String> {

  private final TextEncryptor encryptor;

  @Override
  public String convertToDatabaseColumn(String s) {
    return encryptor.encrypt(s);
  }

  @Override
  public String convertToEntityAttribute(String s) {
    return encryptor.decrypt(s);
  }
}

@Entity
@Data
@AllArgsConstructor
@NoArgsConstructor
class Customer {

  @Id
  @GeneratedValue
  private Integer id;

  @Convert(converter = EncryptedValueConverter.class)
  private String password;
}

]]>
    </code>
</tip>
